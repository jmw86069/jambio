<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Curate vector into a data.frame — curateVtoDF • splicejam</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Curate vector into a data.frame — curateVtoDF" />
<meta property="og:description" content="Curate vector into a data.frame" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">splicejam</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.63.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/basic-rnaseq-workflow.html">Splicejam basic RNAseq workflow</a>
    </li>
    <li>
      <a href="../articles/create-a-sashimi-plot.html">Create a Sashimi Plot</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://github.com/jmw86069/splicejam/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Curate vector into a data.frame</h1>
    <small class="dont-index">Source: <a href='http://github.com/jmw86069/splicejam/blob/master/R/jambio-design.R'><code>R/jambio-design.R</code></a></small>
    <div class="hidden name"><code>curateVtoDF.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Curate vector into a data.frame</p>
    </div>

    <pre class="usage"><span class='fu'>curateVtoDF</span><span class='op'>(</span>
  <span class='va'>x</span>,
  curationL <span class='op'>=</span> <span class='cn'>NULL</span>,
  matchWholeString <span class='op'>=</span> <span class='cn'>TRUE</span>,
  trimWhitespace <span class='op'>=</span> <span class='cn'>TRUE</span>,
  whitespace <span class='op'>=</span> <span class='st'>"_ "</span>,
  expandWhitespace <span class='op'>=</span> <span class='cn'>TRUE</span>,
  previous <span class='op'>=</span> <span class='cn'>NULL</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>character vector as input</p></td>
    </tr>
    <tr>
      <th>curationL</th>
      <td><p>list containing curation rules, as described above, or
a character vector of yaml files, which will be imported into
a list format using <code><a href='https://rdrr.io/pkg/yaml/man/yaml.load.html'>yaml::yaml.load_file()</a></code>.</p></td>
    </tr>
    <tr>
      <th>matchWholeString</th>
      <td><p>logical indicating whether to match the whole
string for each entry in <code>x</code>. If <code>matchWholeString=TRUE</code> then
the substitution patterns are all extended where needed, in order
to expand the pattern to match the whole string.</p></td>
    </tr>
    <tr>
      <th>trimWhitespace</th>
      <td><p>logical indicating whether to trim leading and
trailing whitespace characters from <code>x</code>.</p></td>
    </tr>
    <tr>
      <th>whitespace</th>
      <td><p>character vector containing whitespace characters.</p></td>
    </tr>
    <tr>
      <th>expandWhitespace</th>
      <td><p>logical indicating whether substitution patterns
should be modified so any whitespace characters in the pattern will
match the defined <code>whitespace</code> characters. For example when
<code>expandWhitespace=TRUE</code>, the pattern <code>"_KO_"</code> will be modified to
<code>"[ _]+KO[ _]+"</code> so the pattern will match <code>" KO "</code> and <code>"_KO_"</code>.</p></td>
    </tr>
    <tr>
      <th>previous</th>
      <td><p>optional data.frame whose colnames may be present as
names in <code>curationL</code>, or single vector with <code>length(previous)=length(x)</code>.
If <code>previous</code> is supplied as a data.frame, and the curation colname
is present in <code><a href='https://rdrr.io/r/base/colnames.html'>colnames(previous)</a></code>, then unmatched substutition
patterns will retain the data in the relevant column of <code>previous</code>.
This mechanism allows editing single values in an existing column,
based upon pattern matching in another column.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical indicating whether to print verbose output.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments are ignored.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is intended to curate a vector into a data.frame
with specifically assigned colnames. It is intended to be a more
generic method of curation annotations than splitting a characteer
string by some delimiter, for example where the order of annotations
may differ entry to entry, but where there are known patterns
that are sufficient to describe an annotation column.</p>
<p>That said, if annotations can be reliably split using a delimiter,
that method is often a better choice. In that case, this function
may be useful to make input data fit the expected format.</p>
<p>For example from <code><a href='https://rdrr.io/r/base/c.html'>c("Sample1_WT_LPS_1hour", "Sample2_KO_LPS_2hours")</a></code>
we can tell whether a sample is <code>KO</code> or <code>WT</code> by looking for that
substring.</p>
<p>The <code>curationL</code> is a list with the following properties:</p><ul>
<li><p><code><a href='https://rdrr.io/r/base/names.html'>names(curationL)</a></code> represent colnames to create in the output
data.frame.</p></li>
<li><p>each list element contains a list of two-element vectors</p></li>
<li><p>each two-element vector contains a substitution pattern and
substitution replacement</p></li>
</ul>

<p>When <code>matchWholeString=TRUE</code> the substitution patterns are extended
to match the whole string, using parentheses around the main pattern.
For example if the pattern is "KO" and replacement is "KO", then the
pattern is extended to "^.<em>KO.</em>$", so the entire string will be
replaced with "KO".</p>
<p>Typically, <code>curationL</code> is derived from YAML formatted files, and
loaded into a list with this type of setup:</p>
<p><code>curationL &lt;- yaml::yaml.load_file("curation.yaml")</code>.</p>
<p>The generic YAML format is as follows:</p>
<pre>
<span class='va'>NewColname_1</span><span class='op'>:</span>
<span class='op'>-</span> <span class='op'>-</span> <span class='va'>patternA</span>
  <span class='op'>-</span> <span class='va'>replacementA</span>
<span class='op'>-</span> <span class='op'>-</span> <span class='va'>patternB</span>
  <span class='op'>-</span> <span class='va'>replacementB</span>
<span class='va'>NewColname_2</span><span class='op'>:</span>
<span class='op'>-</span> <span class='op'>-</span> <span class='va'>patternC</span>
  <span class='op'>-</span> <span class='va'>replacementC</span>
</pre>

<p>A specific example:</p>
<pre>
<span class='va'>Treatment</span><span class='op'>:</span>
<span class='op'>-</span> <span class='op'>-</span> <span class='va'>LPS</span>
  <span class='op'>-</span> <span class='va'>LPS</span>
<span class='op'>-</span> <span class='op'>-</span> <span class='va'>Control</span><span class='op'>|</span><span class='va'>cntrl</span><span class='op'>|</span><span class='va'>ctrl</span>
  <span class='op'>-</span> <span class='va'>Control</span>
<span class='va'>Genotype</span><span class='op'>:</span>
<span class='op'>-</span> <span class='op'>-</span> <span class='va'>WT</span><span class='op'>|</span><span class='va'>wildtype</span>
  <span class='op'>-</span> <span class='va'>WT</span>
<span class='op'>-</span> <span class='op'>-</span> <span class='va'>KO</span><span class='op'>|</span><span class='va'>knockout</span><span class='op'>|</span><span class='va'>knock</span>
  <span class='op'>-</span> <span class='va'>KO</span>
</pre>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other jam design functions: 
<code><a href='curateDFtoDF.html'>curateDFtoDF</a>()</code>,
<code><a href='groups2contrasts.html'>groups2contrasts</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>123</span><span class='op'>)</span>;
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span>
   <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"file"</span>,
      <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>i</span><span class='op'>)</span> <span class='op'>{</span>
         <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='va'>LETTERS</span>, <span class='fl'>5</span><span class='op'>)</span>, collapse<span class='op'>=</span><span class='st'>""</span><span class='op'>)</span>
      <span class='op'>}</span><span class='op'>)</span><span class='op'>)</span>,
   <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"WT"</span>, <span class='st'>"Mut"</span><span class='op'>)</span>, each<span class='op'>=</span><span class='fl'>3</span><span class='op'>)</span>,
   <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Veh"</span>,<span class='st'>"EtOH"</span><span class='op'>)</span>, <span class='fl'>3</span><span class='op'>)</span>,
   sep<span class='op'>=</span><span class='st'>"_"</span><span class='op'>)</span>;
<span class='va'>x</span>;
</div><div class='output co'>#&gt; [1] "fileOSNCJ_WT_Veh"   "fileRVKET_WT_EtOH"  "fileNVESI_WT_Veh"  
#&gt; [4] "fileCHGJI_Mut_EtOH" "fileSDNQK_Mut_Veh"  "fileOSNCJ_Mut_EtOH"</div><div class='input'>
<span class='va'>curationYaml</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>
<span class='st'>"Genotype:
- - WT|wildtype
  - WT
- - Mut|mutant
  - Mut
Treatment:
- - Veh|EtOH
  - \\1
File:
- - file([A-Z]+)
  - \\1
FileStem:
- - file([A-Z]+)
  - \\2"</span><span class='op'>)</span>;
<span class='co'># print the curation.yaml to show its structure</span>
<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='va'>curationYaml</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Genotype:
#&gt; - - WT|wildtype
#&gt;   - WT
#&gt; - - Mut|mutant
#&gt;   - Mut
#&gt; Treatment:
#&gt; - - Veh|EtOH
#&gt;   - \1
#&gt; File:
#&gt; - - file([A-Z]+)
#&gt;   - \1
#&gt; FileStem:
#&gt; - - file([A-Z]+)
#&gt;   - \2</div><div class='input'><span class='va'>curationL</span> <span class='op'>&lt;-</span> <span class='fu'>yaml</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/yaml/man/yaml.load.html'>yaml.load</a></span><span class='op'>(</span><span class='va'>curationYaml</span><span class='op'>)</span>;
<span class='fu'>curateVtoDF</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>curationL</span><span class='op'>)</span>;
</div><div class='output co'>#&gt; ##  (<span style='color: #00D7D7;font-weight: bold;'>19:08:22</span><span>) 09Mar2021:  </span><span style='color: #FF8700;'>curateVtoDF(): </span><span style='color: #00AFFF;'>Creating column:</span><span style='color: #FF8700;'>Genotype</span><span> 
#&gt; ##  (</span><span style='color: #00D7D7;font-weight: bold;'>19:08:22</span><span>) 09Mar2021:  </span><span style='color: #FF8700;'>curateVtoDF(): </span><span style='color: #00AFFF;'>Creating column:</span><span style='color: #FF8700;'>Treatment</span><span> 
#&gt; ##  (</span><span style='color: #00D7D7;font-weight: bold;'>19:08:22</span><span>) 09Mar2021:  </span><span style='color: #FF8700;'>curateVtoDF(): </span><span style='color: #00AFFF;'>Creating column:</span><span style='color: #FF8700;'>File</span><span> 
#&gt; ##  (</span><span style='color: #00D7D7;font-weight: bold;'>19:08:22</span><span>) 09Mar2021:  </span><span style='color: #FF8700;'>curateVtoDF(): </span><span style='color: #00AFFF;'>Creating column:</span><span style='color: #FF8700;'>FileStem</span><span> </div><div class='output co'>#&gt;                    Genotype Treatment      File FileStem
#&gt; fileOSNCJ_WT_Veh         WT       Veh fileOSNCJ    OSNCJ
#&gt; fileRVKET_WT_EtOH        WT      EtOH fileRVKET    RVKET
#&gt; fileNVESI_WT_Veh         WT       Veh fileNVESI    NVESI
#&gt; fileCHGJI_Mut_EtOH      Mut      EtOH fileCHGJI    CHGJI
#&gt; fileSDNQK_Mut_Veh       Mut       Veh fileSDNQK    SDNQK
#&gt; fileOSNCJ_Mut_EtOH      Mut      EtOH fileOSNCJ    OSNCJ</div><div class='input'>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by James M. Ward, Shannon Farris.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


